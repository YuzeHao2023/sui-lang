# ç²‹ (Sui) - LLMã®ãŸã‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª

> æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ç‡ã‚¼ãƒ­ã€‚ã‚¿ã‚¤ãƒä¸å¯èƒ½ã€‚LLMãŒæ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ãŒãã®ã¾ã¾å‹•ãã€‚

[English README](README.md)

## ğŸš€ ä»Šã™ãè©¦ã™

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦** - ãƒ–ãƒ©ã‚¦ã‚¶ã§ç›´æ¥Suiã‚’è©¦ã›ã‚‹ï¼š

- **[Sui Playground](https://takatohonda.github.io/sui-lang/playground/)** - Suiã‚³ãƒ¼ãƒ‰ã‚’å³åº§ã«å®Ÿè¡Œ
- **[Counter Demo](https://takatohonda.github.io/sui-lang/examples/counter_app/)** - Sui + WebAssemblyã®å®Ÿä¾‹

## æ¦‚è¦

**ç²‹ (Sui)** ã¯ã€Œæ´—ç·´ã€ã€Œç„¡é§„ã‚’å‰Šãè½ã¨ã™ã€ã¨ã„ã†æ—¥æœ¬èªã®ç¾æ„è­˜ã‹ã‚‰åä»˜ã‘ã‚‰ã‚ŒãŸã€LLMãŒ**100%æ­£ç¢ºãªã‚³ãƒ¼ãƒ‰**ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã‚ã‚‹ã€‚å¸Œæœ›çš„è¦³æ¸¬ã§ã¯ãªãã€æ§‹é€ çš„ä¿è¨¼ã«ã‚ˆã£ã¦å®Ÿç¾ã™ã‚‹ã€‚

## ãªãœSuiã‹

**ç¾åœ¨ã®LLMã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®å•é¡Œï¼š**
- æ‹¬å¼§ã®å¯¾å¿œãƒŸã‚¹ `if (x { }`
- å¤‰æ•°åã®ã‚¿ã‚¤ãƒ `coutn` vs `count`
- ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼
- è¤‡é›‘ãªãƒã‚¹ãƒˆ

**Suiã¯ã“ã‚Œã‚‰ã®ã‚¨ãƒ©ãƒ¼ã‚’æ§‹é€ çš„ã«ä¸å¯èƒ½ã«ã™ã‚‹ï¼š**

| å•é¡Œ | Suiã®è§£æ±ºç­– |
|------|-------------|
| æ‹¬å¼§ã®å¯¾å¿œãƒŸã‚¹ | é–¢æ•°å®šç¾©ã®`{}`ã®ã¿ã€ãƒã‚¹ãƒˆãªã— |
| å¤‰æ•°åã®ã‚¿ã‚¤ãƒ | é€£ç•ªã®ã¿ï¼ˆv0, v1, g0ï¼‰- ã‚¹ãƒšãƒ«ãƒŸã‚¹ä¸å¯èƒ½ |
| ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ | è¡Œãƒ™ãƒ¼ã‚¹ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¯ç„¡è¦– |
| è¤‡é›‘ãªãƒã‚¹ãƒˆ | 1è¡Œ1å‘½ä»¤ã€ä¸€æ™‚å¤‰æ•°ã«åˆ†è§£ |

## è¨­è¨ˆåŸå‰‡

1. **æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ç‡ã‚¼ãƒ­** - æ§‹é€ çš„ã«æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
2. **ã‚¿ã‚¤ãƒç‡ã‚¼ãƒ­** - å¤‰æ•°ã¯æ•°å€¤ã€åå‰ã§ã¯ãªã„
3. **è¡Œå˜ä½ç‹¬ç«‹æ€§** - å„è¡ŒãŒå®Œå…¨ã«è‡ªå·±å®Œçµ
4. **ç´”ç²‹ãƒ­ã‚¸ãƒƒã‚¯è¨€èª** - è¨ˆç®—ã®ã¿ã€UIã¯ä»»æ„ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«å§”è­²
5. **å°†æ¥ã®ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡** - LLMãŒSuiã‚’å­¦ç¿’ã™ã‚Œã°ã€å¾“æ¥è¨€èªã‚’è¶…ãˆã‚‹åŠ¹ç‡ã«

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# PyPIï¼ˆåŸºæœ¬ï¼‰
pip install sui-lang

# PyPIï¼ˆWebAssemblyã‚µãƒãƒ¼ãƒˆä»˜ãï¼‰
pip install sui-lang[wasm]

# Homebrew (macOS/Linux)
brew tap TakatoHonda/sui
brew install sui-lang

# ã‚½ãƒ¼ã‚¹ã‹ã‚‰
git clone https://github.com/TakatoHonda/sui-lang.git
cd sui-lang
```

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ (REPL)

```bash
# REPLèµ·å‹•
sui

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¾‹
>>> = v0 10
>>> + v1 v0 5
>>> . v1
>>>
15
>>> .exit
```

ã‚³ãƒãƒ³ãƒ‰: `.exit` / `.quit` (çµ‚äº†), `.reset` (çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ)

### ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿

```bash
# ãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œ
sui examples/fibonacci.sui

# å¼•æ•°ä»˜ãå®Ÿè¡Œ
sui examples/fib_args.sui 15

# ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
sui --validate examples/fibonacci.sui

# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
sui --help
```

### ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ï¼ˆSui â†’ Pythonï¼‰

```bash
# å¤‰æ›çµæœã‚’è¡¨ç¤º
sui2py examples/fibonacci.sui

# ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›
sui2py examples/fibonacci.sui -o fib.py

# å¤‰æ›ã—ã¦å³å®Ÿè¡Œ
sui2py examples/fib_args.sui --run 15
```

### ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ï¼ˆPython â†’ Suiï¼‰äººé–“å‘ã‘

```bash
# å¤‰æ›çµæœã‚’è¡¨ç¤º
py2sui your_code.py

# ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›
py2sui your_code.py -o output.sui
```

### WebAssembly

```bash
# WebAssemblyãƒã‚¤ãƒŠãƒªã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼ˆè¦: brew install wabtï¼‰
sui2wasm examples/fibonacci.sui -o fib.wasm

# WebAssemblyã§ç›´æ¥å®Ÿè¡Œï¼ˆè¦: pip install sui-lang[wasm]ï¼‰
suiwasm examples/fibonacci.sui
```

### ãƒ–ãƒ©ã‚¦ã‚¶UI

Suiã¯**ç´”ç²‹ãƒ­ã‚¸ãƒƒã‚¯è¨€èª**ã€‚UIã¯ä»»æ„ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆReact, Vue, Hono.js, vanilla JSç­‰ï¼‰ã§å®Ÿè£…å¯èƒ½ã€‚

Suiã¯Wasmã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã€ä»¥ä¸‹ã‚’exportã™ã‚‹ï¼š
- `main()` - åˆæœŸåŒ–
- `f0()`, `f1()`, ... - é–¢æ•°ï¼ˆJSã‹ã‚‰å‘¼ã³å‡ºã—å¯èƒ½ï¼‰
- `g0`, `g1`, ... - ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ï¼ˆ`.value`ã§èª­ã¿æ›¸ãï¼‰

```javascript
// ä»»æ„ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§å‹•ä½œ
const wasm = await WebAssembly.instantiate(wasmBytes, { env: { print_i32: console.log }});
button.onclick = () => { wasm.exports.f0(); display.textContent = wasm.exports.g0.value; };
```

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã›ãšã«å®Ÿè¡Œï¼ˆã‚½ãƒ¼ã‚¹ã‹ã‚‰ï¼‰

```bash
# pythonã‚³ãƒãƒ³ãƒ‰ã§ç›´æ¥å®Ÿè¡Œ
python sui.py examples/fibonacci.sui
python sui2py.py examples/fibonacci.sui
python py2sui.py your_code.py
```

## æ§‹æ–‡

### å‘½ä»¤ä¸€è¦§

| å‘½ä»¤ | å½¢å¼ | èª¬æ˜ |
|------|------|------|
| `=` | `= var value` | ä»£å…¥ |
| `+` | `+ result a b` | åŠ ç®— |
| `-` | `- result a b` | æ¸›ç®— |
| `*` | `* result a b` | ä¹—ç®— |
| `/` | `/ result a b` | é™¤ç®— |
| `%` | `% result a b` | å‰°ä½™ |
| `<` | `< result a b` | å°ãªã‚Šï¼ˆçµæœ0/1ï¼‰ |
| `>` | `> result a b` | å¤§ãªã‚Šï¼ˆçµæœ0/1ï¼‰ |
| `~` | `~ result a b` | ç­‰ä¾¡ï¼ˆçµæœ0/1ï¼‰ |
| `!` | `! result a` | NOT |
| `&` | `& result a b` | AND |
| `\|` | `\| result a b` | OR |
| `?` | `? cond label` | æ¡ä»¶ã‚¸ãƒ£ãƒ³ãƒ— |
| `@` | `@ label` | ç„¡æ¡ä»¶ã‚¸ãƒ£ãƒ³ãƒ— |
| `:` | `: label` | ãƒ©ãƒ™ãƒ«å®šç¾© |
| `#` | `# id argc {` | é–¢æ•°å®šç¾©é–‹å§‹ |
| `}` | `}` | é–¢æ•°å®šç¾©çµ‚äº† |
| `$` | `$ result func args...` | é–¢æ•°å‘¼ã³å‡ºã— |
| `^` | `^ value` | return |
| `[` | `[ var size` | é…åˆ—ä½œæˆ |
| `]` | `] result arr idx` | é…åˆ—èª­å– |
| `{` | `{ arr idx value` | é…åˆ—æ›¸è¾¼ |
| `.` | `. value` | å‡ºåŠ› |
| `,` | `, var` | å…¥åŠ› |

### å¤‰æ•°

| å½¢å¼ | æ„å‘³ |
|------|------|
| `v0`, `v1`, ... | ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•° |
| `g0`, `g1`, ... | ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° |
| `a0`, `a1`, ... | é–¢æ•°å¼•æ•° |
| `g100` | argcï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®æ•°ï¼‰ |
| `g101`, `g102`, ... | argvï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ï¼‰ |

## ä¾‹

### ãƒ•ã‚£ãƒœãƒŠãƒƒãƒ

```sui
# 0 1 {
< v0 a0 2
! v1 v0
? v1 1
^ a0
: 1
- v2 a0 1
$ v3 0 v2
- v4 a0 2
$ v5 0 v4
+ v6 v3 v5
^ v6
}
= g0 10
$ g1 0 g0
. g1
```

**å‡ºåŠ›**: `55`

### FizzBuzz

```sui
= v0 1
: 0
> v1 v0 100
? v1 9
% v2 v0 15
~ v3 v2 0
? v3 1
% v4 v0 3
~ v5 v4 0
? v5 2
% v6 v0 5
~ v7 v6 0
? v7 3
. v0
@ 4
: 1
. "FizzBuzz"
@ 4
: 2
. "Fizz"
@ 4
: 3
. "Buzz"
@ 4
: 4
+ v0 v0 1
@ 0
: 9
```

### ãƒªã‚¹ãƒˆã®åˆè¨ˆ

```sui
[ g0 5
{ g0 0 10
{ g0 1 20
{ g0 2 30
{ g0 3 40
{ g0 4 50
= g1 0
= v0 0
: 0
< v1 v0 5
! v2 v1
? v2 1
] v3 g0 v0
+ g1 g1 v3
+ v0 v0 1
@ 0
: 1
. g1
```

**å‡ºåŠ›**: `150`

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
sui/
â”œâ”€â”€ README.md           # è‹±èªç‰ˆREADME
â”œâ”€â”€ README_ja.md        # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ—¥æœ¬èªï¼‰
â”œâ”€â”€ LICENSE             # MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹
â”œâ”€â”€ sui.py              # ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿
â”œâ”€â”€ sui2py.py           # Sui â†’ Python ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©
â”œâ”€â”€ sui2wasm.py         # Sui â†’ WebAssemblyãƒã‚¤ãƒŠãƒª ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©
â”œâ”€â”€ suiwasm.py          # WebAssemblyãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼ˆwasmtimeã§å®Ÿè¡Œï¼‰
â”œâ”€â”€ py2sui.py           # Python â†’ Sui ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ï¼ˆäººé–“å‘ã‘ï¼‰
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ fibonacci.sui
â”‚   â”œâ”€â”€ fib_args.sui
â”‚   â”œâ”€â”€ fizzbuzz.sui
â”‚   â”œâ”€â”€ list_sum.sui
â”‚   â”œâ”€â”€ args_demo.sui
â”‚   â””â”€â”€ counter_app/      # å®Œå…¨ãªã‚¢ãƒ—ãƒªä¾‹ï¼ˆSui + Wasm + HTMLï¼‰
â””â”€â”€ prompts/
    â”œâ”€â”€ system_prompt_en.md  # LLMç”¨ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆè‹±èªï¼‰
    â”œâ”€â”€ system_prompt_ja.md  # LLMç”¨ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆæ—¥æœ¬èªï¼‰
    â””â”€â”€ examples.md          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä¾‹ï¼ˆSui + UIï¼‰
```

## LLMé€£æº

Suiã¯LLMã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹ã€‚`prompts/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ç”¨ï¼š

1. `prompts/system_prompt_ja.md` ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼
2. ChatGPT / Claude / Gemini ç­‰ã«è²¼ã‚Šä»˜ã‘
3. ã‚¿ã‚¹ã‚¯ã‚’æŒ‡å®šã—ã¦Suiã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã•ã›ã‚‹
4. `sui your_code.sui` ã§å®Ÿè¡Œ

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›ã¯ [prompts/examples.md](prompts/examples.md) ã‚’å‚ç…§ã€‚

## åå‰ã®ç”±æ¥

**ç²‹ï¼ˆã™ã„/ã„ãï¼‰** - æ—¥æœ¬èªã§ã€Œæ´—ç·´ã•ã‚Œã¦ã„ã‚‹ã€ã€Œç„¡é§„ãŒãªã„ã€ã¨ã„ã†æ„å‘³ã€‚ä½™è¨ˆãªã‚‚ã®ã‚’å‰Šãè½ã¨ã—ã€æœ¬è³ªã ã‘ã‚’æ®‹ã™ç¾æ„è­˜ã‚’è¡¨ã™ã€‚

## ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡ï¼šç¾åœ¨ vs å°†æ¥

**ç¾çŠ¶**ï¼ˆLLMã¯ã¾ã Suiã‚’çŸ¥ã‚‰ãªã„ï¼‰ï¼š
| è¨€èª | ãƒ•ã‚£ãƒœãƒŠãƒƒãƒ | ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ |
|------|-------------|-----------|
| Sui | 79 tokens | 44 tokens |
| Python | 30 tokens | 30 tokens |

**å°†æ¥**ï¼ˆLLMãŒSuiã‚’å­¦ç¿’ã—ãŸå¾Œï¼‰ï¼š
- `v0`, `g0` â†’ å„1ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆç¾åœ¨ã¯2ï¼‰
- `+ g0 g0 1` ã®ã‚ˆã†ãªãƒ‘ã‚¿ãƒ¼ãƒ³ â†’ åœ§ç¸®ã•ã‚Œã‚‹
- äºˆæ¸¬ï¼š**40-50%å‰Šæ¸›**

**ã—ã‹ã—ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã¯æœ¬è³ªã§ã¯ãªã„ã€‚** çœŸã®ä¾¡å€¤ï¼š
- **æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ç‡0%**ï¼ˆPython/JSã¯ç´„5-10%ï¼‰
- **ã‚¿ã‚¤ãƒç‡0%**ï¼ˆå¤‰æ•°åã®ã‚¹ãƒšãƒ«ãƒŸã‚¹ãŒæ§‹é€ çš„ã«ä¸å¯èƒ½ï¼‰
- **100%ãƒ‘ãƒ¼ã‚¹å¯èƒ½**ï¼ˆã™ã¹ã¦ã®è¡ŒãŒæœ‰åŠ¹ã‹æ˜ç¢ºã«ç„¡åŠ¹ï¼‰

## ä»–è¨€èªã¨ã®æ¯”è¼ƒ

### vs Python/JavaScript

| è¦³ç‚¹ | Python/JS | Sui |
|------|-----------|-----|
| æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ | ã‚ˆãã‚ã‚‹ | ä¸å¯èƒ½ |
| å¤‰æ•°ã‚¿ã‚¤ãƒ | ã‚ˆãã‚ã‚‹ | ä¸å¯èƒ½ |
| æ‹¬å¼§ã®å¯¾å¿œ | ã‚¨ãƒ©ãƒ¼å¤šç™º | è‡ªæ˜ |
| ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡ï¼ˆç¾åœ¨ï¼‰| è‰¯ã„ | æ‚ªã„ |
| ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡ï¼ˆå°†æ¥ï¼‰| åŒç­‰ | ã‚ˆã‚Šè‰¯ã„ |

### vs ã‚¢ã‚»ãƒ³ãƒ–ãƒ©

| è¦³ç‚¹ | ã‚¢ã‚»ãƒ³ãƒ–ãƒ© | Sui |
|------|-----------|-----|
| å‘½ä»¤æ•° | æ•°ç™¾ | ~20 |
| ãƒ¬ã‚¸ã‚¹ã‚¿ | 8-32 | ç„¡åˆ¶é™ |
| å­¦ç¿’ã‚³ã‚¹ãƒˆ | é«˜ã„ | æœ€å° |

## ä»Šå¾Œã®æ”¹å–„æ¡ˆ

- [x] ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ï¼ˆPythonï¼‰
- [x] ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ï¼ˆSui â†’ Pythonï¼‰
- [x] ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ï¼ˆPython â†’ Suiã€äººé–“å‘ã‘ï¼‰
- [x] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ (REPL)
- [x] WebAssemblyå‡ºåŠ›ï¼ˆWAT + ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼‰
- [ ] å‹æ³¨é‡ˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [ ] LLVM IRå‡ºåŠ›

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

